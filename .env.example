# ============================================
# FAM Backend Environment Configuration
# ============================================
# Copy this file to .env and update with your values
# DO NOT commit .env file to git

# ------- Database Configuration (Required) -------
# Database Provider: PostgreSQL or MongoDB (case-insensitive)
DB_PROVIDER=PostgreSQL

# Database Connection (shared for both PostgreSQL and MongoDB)
# For PostgreSQL: DB_HOST=localhost, DB_PORT=5432/8432, DB_NAME=database_name
# For MongoDB: DB_HOST=localhost, DB_PORT=27017, DB_NAME=database_name
DB_HOST=localhost
DB_PORT=8432
DB_NAME=fam_db
DB_USER=postgres
DB_PASSWORD=Admin@123

# ------- JWT Authentication (Required) -------
# Generate a secure secret: openssl rand -hex 32
JWT_SECRET=your-secret-key-at-least-32-characters-long-replace-this
JWT_ISSUER=FAM.API
JWT_AUDIENCE=FAM.Client
ACCESS_TOKEN_EXPIRATION_MINUTES=60
REFRESH_TOKEN_EXPIRATION_DAYS=30
MAX_FAILED_LOGIN_ATTEMPTS=5
ACCOUNT_LOCKOUT_MINUTES=15

# ------- Application Settings -------
ASPNETCORE_ENVIRONMENT=Development
ASPNETCORE_URLS=http://localhost:5231
MAX_PAGE_SIZE=100
ENABLE_DETAILED_ERRORS=true
ENABLE_SENSITIVE_DATA_LOGGING=false

# ------- Real IP Detection -------
TRUSTED_PROXIES=127.0.0.1,::1
HEADER_PRIORITY=CF-Connecting-IP,True-Client-IP,X-Real-IP,X-Forwarded-For,X-Client-IP
LOG_IP_DETECTION=false

# ------- MinIO Storage Configuration -------
MINIO_ENDPOINT=localhost:9000
MINIO_ROOT_USER=admin
MINIO_ROOT_PASSWORD=Admin@123
MINIO_USE_SSL=false
MINIO_BUCKET_NAME=fam-assets
MINIO_PORT=9000
MINIO_CONSOLE_PORT=9001

# ------- File Upload Settings -------
# Maximum file sizes in MB
MAX_IMAGE_SIZE_MB=5
MAX_MEDIA_SIZE_MB=50
MAX_DOCUMENT_SIZE_MB=10
# Allowed file extensions (comma-separated)
ALLOWED_IMAGE_EXTENSIONS=.jpg,.jpeg,.png,.gif,.webp,.bmp
ALLOWED_MEDIA_EXTENSIONS=.mp4,.avi,.mov,.wmv,.flv,.mkv,.webm,.mp3,.wav,.ogg,.m4a
ALLOWED_DOCUMENT_EXTENSIONS=.pdf,.doc,.docx,.xls,.xlsx,.ppt,.pptx,.txt,.csv
# Multipart upload settings
MULTIPART_CHUNK_SIZE_MB=5
MULTIPART_MAX_PARTS=10000
